

<!DOCTYPE html>
<html lang="en" >

<head>

  <meta charset="UTF-8">
  
<link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />
<meta name="apple-mobile-web-app-title" content="CodePen">

<link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

<link rel="mask-icon" type="" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />


  <title>CodePen - 2128-3</title>
  
  
  
  
<style>
#myCanvas{
  background:#cccccc;
}

.hide{
  display:none;
}
</style>

  
  
  
  

</head>

<body translate="no" >
  <audio controls id="smack">
  <source src="https://math.seattleacademy.org/garyanderson/snd/smack.wav">
</audio>

<audio controls id="ugh">
  <source src="https://math.seattleacademy.org/garyanderson/snd/ugh.wav">
</audio>

<div>
  Bot Count: <span id="botCount">0</span> Deaths: <span id="deaths">0</span> time: <span id="theTime">0</span>
  <button id="resetBots">Reset Bots</button>
</div>
<canvas id="myCanvas" width="600" height="300"></canvas>

<img id="pacman" class = "hide" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Pac_Man.svg/1200px-Pac_Man.svg.png"/>

<img id="redghost" class= "hide" src="https://i.pinimg.com/originals/90/d2/e3/90d2e3ff2856032d36fcc7dc49334191.png"/>

<img id="dancer" class= "hide" src="data:image/png;base64,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"/>

<img id="maze" class= "hide" src="https://caitrianstory.github.io/2127/img/maze.png"/>
  
  
      <script id="rendered-js" >
console.clear();

const ughsnd = document.getElementById("ugh");
const smacksnd = document.getElementById("smack");

let timer = 0;
const c = document.getElementById("myCanvas");
const ctx = c.getContext("2d");
let bots = [];
function makeBot() {
  const bot = {};
  bot.r = 10 + Math.random() * 5;
  bot.x = (c.width - 2 * bot.r) * Math.random() + bot.r;
  bot.y = (c.height - 2 * bot.r) * Math.random() + bot.r;

  //bot.theta= -Math.PI/4;
  bot.dx = Math.random() * 2 - 1;
  bot.dy = Math.random() * 2 - 1;
  bot.theta = Math.atan2(bot.dy, bot.dx);
  bot.v = (bot.dx + bot.dy) / 2;
  bot.vl = 1;
  bot.vr = 1;
  return bot;
}
function doResetBots() {
  console.log("resetBots");
  bots = [];
  let bot0 = {};
  bot0.x=20;
  bot0.y=75;
  bot0.r=15;
  bot0.dx=0;
  bot0.dy=0;
  bot0.theta=0;
  bots.push(bot0);
  
  for (let i = 0; i < 0; i++) {
    bot = makeBot();
    bots.push(bot);
  }
  bots[0].imgid = "dancer";
  ///bots[1].imgid = "redghost";
}
doResetBots();
function drawBot(bot) {
  ctx.beginPath();
  ctx.arc(bot.x, bot.y, bot.r, 0, 2 * Math.PI);
  ctx.stroke();
  ctx.moveTo(bot.x, bot.y);
  x = bot.x + bot.r * Math.cos(bot.theta);
  y = bot.y - bot.r * Math.sin(bot.theta);
  ctx.lineTo(x, y);
  ctx.stroke();
  //if (bot.r == bots[0].r) {
  if (bot.imgid) {
    ctx.fillStyle = "rgba(255,0,0,.5)";
    ctx.fill();

    ctx.save();
    ctx.translate(bot.x, bot.y);
    ctx.rotate(-bot.theta);
    ctx.translate(-bot.x, -bot.y);
    var img = document.getElementById(bot.imgid);
    ctx.drawImage(
      img,
      bot.x - bot.r,
      bot.y - bot.r,
      2 * bot.r,
      2 * bot.r
    );

    ctx.restore();


  }
}

function moveBot(bot) {
  timer = timer + 1;
  let theTime = document.getElementById("theTime");
  theTime.innerHTML = timer;

  bot.x = bot.x + bot.dx;
  bot.y = bot.y - bot.dy;
 
  if (bot.y - bot.r < 0) {
    bot.dy = -bot.dy;
   // ughsnd.play();
  }
  if (bot.x + bot.r >= c.width) {
    bot.dx = -bot.dx;
   // ughsnd.play();
  }
  if (bot.y + bot.r >= c.height) {
    bot.dy = -bot.dy;
   // ughsnd.play();
  }
  if (bot.x - bot.r <= 0) {
    bot.dx = -bot.dx;
   // ughsnd.play();
  }
  bot.theta = Math.atan2(bot.dy, bot.dx);

  drawBot(bot);

  let botCount = document.getElementById("botCount");
  botCount.innerHTML = bots.length;
}
function moveBots() {
  checkCollide();
  ctx.clearRect(0, 0, c.width, c.height);
  const maze = document.getElementById("maze");
  ctx.drawImage(maze,0,0,c.width,c.height);
  for (let i = 0; i < bots.length; i++) {
    moveBot(bots[i]);
  }
}
function checkCollide() {
  for (i = 0; i < bots.length; i++) {
    for (j = 0; j < bots.length; j++) {
      if (i == j) continue;
      d = Math.sqrt(
        (bots[i].x - bots[j].x) ** 2 + (bots[i].y - bots[j].y) ** 2
      );
      if (d <= bots[i].r + bots[j].r) {
       // smacksnd.play();
        if (bots[i].r < bots[j].r) {
          bots[j].r = Math.sqrt(bots[i].r ** 2 + bots[j].r ** 2);
          bots[i].r = 0;
        }
      }
    }
  }
  if (bots[0].r == 0) {
    let deathSpan = document.getElementById("deaths");
    deaths = deathSpan.innerHTML * 1 + 1;
    deaths.innerHTML = deaths;
    doResetBots();
  }
  for (i = bots.length - 1; i > 0; i--) {
    //console.log(i,bots[i].r);
    if (bots[i].r == 0) bots.splice(i, 1);
  }
}
setInterval(moveBots, 100);

function dokeydown(e) {
  console.log(e.key);
  let stepSize = 2;
  if (e.key == "ArrowUp") {
    bots[0].dy = bots[0].dy + stepSize;
  }

  if (e.key == "ArrowRight") {
    bots[0].dx = bots[0].dx + stepSize;
  }

  if (e.key == "ArrowLeft") {
    bots[0].dx = bots[0].dx - stepSize;
  }

  if (e.key == "ArrowDown") {
    bots[0].dy = bots[0].dy - stepSize;
  }
  //Stop the Bot
  if (e.key == " ") {
    bots[0].dy = 0;
    bots[0].dx = 0;
    e.stopPropagation();
  }
}
document.addEventListener("keydown", dokeydown);

document.getElementById("resetBots").addEventListener("click", doResetBots);

//https://owenmcgann.github.io/2126-5-Owen-M/snd/ugh.wav// Need to make this another sound when bots colide
    </script>

  

</body>

</html>
 
